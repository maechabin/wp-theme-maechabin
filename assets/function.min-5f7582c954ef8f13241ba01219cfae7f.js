!function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("smoothscroll-polyfill"),h=d(g),i=a("turbolinks"),j=d(i),k=a("slideheader"),l=d(k),m=!0,n=a("sticky-state"),o=function(){function a(b){e(this,a),this.div=document.createElement("div"),this.allowTurbolinks=b.allowTurbolinks||!1}return f(a,[{key:"clickTopPost",value:function(){var a=this;document.querySelectorAll(".post").forEach(function(b){b.addEventListener("click",function(c){var d=c.target.nodeName;if("SECTION"===d||"H1"===d||"UL"===d||"LI"===d){var e=b.getElementsByTagName("a")[0],f=e.getAttribute("href");j.default.supported&&a.allowTurbolinks?(c.preventDefault(),j.default.visit(f)):window.location.assign(f)}},!1)})}},{key:"detectSticky",value:function(){return this.div.style.position="sticky",-1!==this.div.style.position.indexOf("sticky")}},{key:"init",value:function(){a.displayAgendaLink(),a.clickHeaderBar(),a.backlink(),a.callAnalytics(),this.clickTopPost(),a.makeContentEditable(),new l.default(".cb-header",{headroom:!0,slidePoint:64}).init("slideUp"),a.displayMobileSearch(),"scroll-behavior"in this.div.style||h.default.polyfill(),this.detectSticky()||a.callStickyState()}}],[{key:"callSmoothScroll",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;window.scrollTo({top:a,left:0,behavior:"smooth"})}},{key:"clickHeaderBar",value:function(){document.querySelector("#header_bar").addEventListener("click",function(b){var c=b.target.id;"header_bar"!==c&&"header_bar_inner"!==c||a.callSmoothScroll(0)},!1)}},{key:"backlink",value:function(){var a=window.location.href,b=window.location.host,c=window.location.search||"",d=new RegExp("^https?://"+b+"/archives/[0-9]+$","ig"),e=new RegExp("^https?://"+b,"ig"),f=new RegExp("/?s=.+?","ig"),g=document.querySelector(".header__title"),h=g.querySelector("a"),i=g.querySelector("i"),j=window.referrer||"";a.match(d)&&j.match(e)&&!j.match(d)?(i.setAttribute("class","fa fa-chevron-left"),h.setAttribute("href",j)):""!==c&&c.match(f)?(i.setAttribute("class","fa fa-chevron-left"),h.setAttribute("href",j)):h.setAttribute("href","/")}},{key:"displayMobileSearch",value:function(){var a=document.querySelector(".header__search_mobile"),b=document.querySelector(".header__button_search"),c=document.querySelector(".header__button_back");b.addEventListener("click",function(){a.setAttribute("style","\n        transition: transform 500ms ease-in-out;\n        transform: translate3d(-100vw, 0, 0);\n      ")},!1),c.addEventListener("click",function(){a.setAttribute("style","\n        transition: transform 300ms linear;\n        transform: translate3d(100vw, 0, 0);\n      ")},!1)}},{key:"displayAgendaLink",value:function(){var a=document.querySelector("#agenda"),b=document.querySelector("#footer__bar__agenda-link");a&&(b.classList.add("footer__style--show"),b.classList.remove("footer__style--hidden"))}},{key:"makeContentEditable",value:function(){document.querySelectorAll(".code").forEach(function(a){a.setAttribute("contenteditable",!0),a.setAttribute("soellcheck",!1)})}},{key:"getTargetPosition",value:function(a){var b=document.querySelectorAll('a[href^="#"]');return Array.prototype.forEach.call(b,function(b){b.addEventListener("click",function(c){c.preventDefault();var d=b.getAttribute("href"),e=new RegExp("#.*$","ig"),f=d.match(e),g=document.querySelector(f[0]),h=g.getBoundingClientRect().top+window.pageYOffset;return a(h-56)},!1)})}},{key:"callStickyState",value:function(){return document.querySelector(".sidebar__box").setAttribute("class","sidebar__box sticky"),new n(document.querySelectorAll(".sticky"))}},{key:"callAdSense",value:function(){var a=document.querySelectorAll(".adsbygoogle");if(a.forEach(function(a){a.firstChild&&a.removeChild(a.firstChild)}),a.length>0)try{a.forEach(function(){window.adsbygoogle=window.adsbygoogle||[],window.adsbygoogle.push({})})}catch(a){console.error(a)}}},{key:"callAnalytics",value:function(){function a(){window.dataLayer.push(arguments)}var b=window.location.pathname,c=window.location.search;window.dataLayer=window.dataLayer||[],a("js",new Date),a("config","UA-16293533-1",{page_path:b+c})}}]),a}();if(j.default.supported&&m){var p=!0;document.addEventListener("DOMContentLoaded",function(){[document.querySelector(".sidebar__author"),document.querySelector(".footer")].forEach(function(a){a.setAttribute("data-turbolinks-permanent",!0)}),j.default.start()},!1),document.addEventListener("turbolinks:load",function(){new o({allowTurbolinks:m}).init(),p&&(o.callAdSense(),p=!1);var a=document.querySelectorAll("a"),b=document.querySelector("html");a.forEach(function(a){a.addEventListener("click",function(c){a.href&&a.href.match(/[#]/)?(b.setAttribute("style","scroll-behavior: smooth;"),c.target.setAttribute("data-turbolinks","false")):b.setAttribute("style","scroll-behavior: auto;")},!1)})},!1),document.addEventListener("turbolinks:before-cache",function(){},!1),document.addEventListener("turbolinks:before-visit",function(){window.referrer=window.location.href,p=!0},!1)}else document.addEventListener("DOMContentLoaded",function(){(new o).init()},!1)},{slideheader:8,"smoothscroll-polyfill":9,"sticky-state":10,turbolinks:11}],2:[function(a,b,c){function d(){for(var a,b,c=[],e=-1;++e<arguments.length;)if(arguments[e])if(a=arguments[e],"string"===(b=typeof a)||"number"===b)c.push(a);else if(Array.isArray(a)){var g=d.apply(null,a);c=c.length?c.join(" ").split(" "):c;for(var h=-1;++h<g.length;)-1===c.indexOf(g[h])&&c.push(g[h])}else if("object"===b){var i=c.length;c=i?c.join(" ").split(" "):c;for(var j in a)if(f.call(a,j)){var k=i?c.indexOf(j):-1;a[j]?k<0&&(c.push(j),++i):k>-1&&c.splice(k,1)}}return c}function e(){return d.apply(null,arguments).join(" ")}var f={}.hasOwnProperty;b.exports=e},{}],3:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a){return!a||0===Object.keys(a).length}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=b.target,e=b.currentTarget;d(this,a),this.target=c||this,this.currentTarget=e||this,this.eventMap={},this.destroyed=!1,this.on=this.bind=this.addEventListener=this.addListener,this.off=this.unbind=this.removeEventListener=this.removeListener,this.once=this.one=this.addListenerOnce,this.emit=this.trigger=this.dispatchEvent=this.dispatch}return a.prototype.addListener=function(a,b){var c=this.getListener(a);return c?-1===c.indexOf(b)&&c.push(b):this.eventMap[a]=[b],this},a.prototype.addListenerOnce=function(a,b){var c=this,d=function d(e){b(e),c.off(a,d)};return this.on(a,d)},a.prototype.removeListener=function(a,b){if(!b)return this.removeAllListener(a);var c=this.getListener(a);if(c){var d=c.indexOf(b);d>-1&&(c.splice(d,1),c.length||delete this.eventMap[a])}return this},a.prototype.removeAllListener=function(a){return this.getListener(a)&&(this.eventMap[a].length=0,delete this.eventMap[a]),this},a.prototype.hasListener=function(a){return null!==this.getListener(a)},a.prototype.hasListeners=function(){return null!==this.eventMap&&void 0!==this.eventMap&&!e(this.eventMap)},a.prototype.dispatch=function(a,b){var c=this.getListener(a);if(c){var d=b||{};d.type=a,d.target=d.target||this.target,d.currentTarget=d.currentTarget||this.currentTarget;for(var e=-1;++e<c.length;)c[e](d)}return this},a.prototype.getListener=function(a){return(this.eventMap?this.eventMap[a]:null)||null},a.prototype.destroy=function(){if(this.eventMap)for(var a=Object.keys(this.eventMap),b=0;b<a.length;b++)this.removeAllListener(a[b]);return this.eventMap=null,this.destroyed=!0,this},a}();c.default=f,b.exports=c.default},{}],4:[function(a,b,c){"use strict";function d(a){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function e(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de","5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},c=0;c<10;c++)b["_"+String.fromCharCode(c)]=c;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},d)).join("")}catch(a){return!1}}var f=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;b.exports=e()?Object.assign:function(a,b){for(var c,e,h=d(a),i=1;i<arguments.length;i++){c=Object(arguments[i]);for(var j in c)f.call(c,j)&&(h[j]=c[j]);if(Object.getOwnPropertySymbols){e=Object.getOwnPropertySymbols(c);for(var k=0;k<e.length;k++)g.call(c,e[k])&&(h[e[k]]=c[e[k]])}}return h}},{}],5:[function(a,b,c){"use strict";var d=/(auto|scroll)/,e=function(a){var b=window.getComputedStyle(a,null);return d.test(b.getPropertyValue("overflow")+b.getPropertyValue("overflow-y")+b.getPropertyValue("overflow-x"))};b.exports=e},{}],6:[function(a,b,c){"use strict";var d=a("./has-overflow"),e=function(a){if(!(a instanceof HTMLElement))return window;for(;a.parentNode;){if(a.parentNode===document.body)return window;if(d(a.parentNode))return a.parentNode;a=a.parentNode}return window};b.exports=e},{"./has-overflow":5}],7:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("eventdispatcher"),j=d(i),k=a("./scroll-parent"),l=d(k),m=function(){window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame)},n=function(a){function b(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e(this,b),b.hasInstance(c)){var g;return g=b.getInstance(c),f(h,g)}var h=f(this,a.call(this,{target:c}));return h._scrollTarget=null,h._y=0,h._x=0,h._speedY=0,h._speedX=0,h._lastSpeed=0,h._lastDirectionY=b.direction.none,h._lastDirectionX=b.direction.none,h._stopFrames=3,h._currentStopFrames=0,h._firstRender=!0,h._directionY=b.direction.none,h._directionX=b.direction.none,h._scrolling=!1,h._canScrollY=!1,h._canScrollX=!1,c.scrollFeatures=h,h._scrollTarget=c,h.options=d,p.animationFrame&&m(),h.init(),h}return g(b,a),b.getInstance=function(a,c){return a.scrollFeatures?a.scrollFeatures:new b(a,c)},b.hasInstance=function(a){return void 0!==a.scrollFeatures},b.getScrollParent=function(a){return(0,l.default)(a)},h(b,null,[{key:"windowY",get:function(){return window.pageYOffset||window.scrollY||0}},{key:"windowX",get:function(){return window.pageXOffset||window.scrollX||0}},{key:"documentHeight",get:function(){return Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)}},{key:"documentWidth",get:function(){return Math.max(document.body.scrollWidth,document.body.offsetWidth,document.documentElement.clientWidth,document.documentElement.scrollWidth,document.documentElement.offsetWidth)}}]),b.prototype.init=function(){var a=this;if(this.getScrollPosition=this._scrollTarget===window?function(){return{y:b.windowY,x:b.windowX}}.bind(this):function(){return{y:this._scrollTarget.scrollTop,x:this._scrollTarget.scrollLeft}}.bind(this),this.onResize=function(){a.trigger(b.events.SCROLL_RESIZE)},this.onScroll=this.onScroll.bind(this),this.onNextFrame=this.onNextFrame.bind(this),this.updateScrollPosition(),this._scrollTarget!==window){var c=/(auto|scroll)/,d=window.getComputedStyle(this._scrollTarget,null);this._canScrollY=c.test(d.getPropertyValue("overflow-y")),this._canScrollX=c.test(d.getPropertyValue("overflow-x"))}else this._canScrollY=this.clientHeight<this.scrollHeight,this._canScrollX=this.clientWidth<this.scrollWidth;this._scrollTarget.addEventListener?(this._scrollTarget.addEventListener("scroll",this.onScroll,!1),this._scrollTarget.addEventListener("resize",this.onResize,!1)):this._scrollTarget.attachEvent&&(this._scrollTarget.attachEvent("scroll",this.onScroll),this._scrollTarget.attachEvent("resize",this.onResize))},b.prototype.destroy=function(){this._cancelNextFrame(),a.prototype.destroy.call(this),this._scrollTarget&&(this._scrollTarget.addEventListener?(this._scrollTarget.removeEventListener("scroll",this.onScroll),this._scrollTarget.removeEventListener("resize",this.onResize)):this._scrollTarget.attachEvent&&(this._scrollTarget.detachEvent("scroll",this.onScroll),this._scrollTarget.detachEvent("resize",this.onResize))),this.onResize=null,this.onScroll=null,this.getScrollPosition=null,this.onNextFrame=null,delete this._scrollTarget.scrollFeatures,this._scrollTarget=null},b.prototype.updateScrollPosition=function(){this._y=this.y,this._x=this.x},b.prototype.onScroll=function(){if(this._currentStopFrames=0,this._firstRender&&(this._firstRender=!1,this.y>1||this.x>1))return this.updateScrollPosition(),void this.trigger(b.events.SCROLL_PROGRESS);this._scrolling||(this._scrolling=!0,this._lastDirectionY=b.direction.none,this._lastDirectionX=b.direction.none,this.trigger(b.events.SCROLL_START),p.animationFrame?this.nextFrameID=window.requestAnimationFrame(this.onNextFrame):this.onNextFrame())},b.prototype.onNextFrame=function(){var a=this;this._speedY=this._y-this.y,this._speedX=this._x-this.x;var c=+this.speedY+ +this.speedX;if(this._scrolling&&0===c&&this._currentStopFrames++>this._stopFrames)return void this.onScrollStop();this.updateScrollPosition(),this._lastDirectionY!==this.directionY&&this.trigger("scroll:"+(this.directionY===b.direction.down?"down":"up")),this._lastDirectionX!==this.directionX&&this.trigger("scroll:"+(this.directionX===b.direction.right?"right":"left")),this._lastDirectionY=this.directionY,this._lastDirectionX=this.directionX,this.trigger(b.events.SCROLL_PROGRESS),p.animationFrame?this.nextFrameID=window.requestAnimationFrame(this.onNextFrame):this._nextTimeout=setTimeout(function(){a.onNextFrame()},1e3/60)},b.prototype.onScrollStop=function(){this._scrolling=!1,this.updateScrollPosition(),this.trigger(b.events.SCROLL_STOP),this._canScrollY&&(this.y<=0?this.trigger(b.events.SCROLL_MIN):this.y+this.clientHeight>=this.scrollHeight&&this.trigger(b.events.SCROLL_MAX)),this._canScrollX&&(this.x<=0?this.trigger(b.events.SCROLL_MIN):this.x+this.clientWidth>=this.scrollWidth&&this.trigger(b.events.SCROLL_MAX)),this._cancelNextFrame()},b.prototype._cancelNextFrame=function(){this._currentStopFrames=0,p.animationFrame?(window.cancelAnimationFrame(this.nextFrameID),this.nextFrameID=-1):clearTimeout(this._nextTimeout)},h(b,[{key:"scrollPosition",get:function(){return this.getScrollPosition()}},{key:"directionY",get:function(){return!this._canScrollY||0===this.speedY&&!this._scrolling?this._directionY=b.direction.none:this.speedY>0?this._directionY=b.direction.up:this.speedY<0&&(this._directionY=b.direction.down),this._directionY}},{key:"directionX",get:function(){return!this._canScrollX||0===this.speedX&&!this._scrolling?this._directionX=b.direction.none:this.speedX>0?this._directionX=b.direction.left:this.speedX<0&&(this._directionX=b.direction.right),this._directionX}},{key:"scrollTarget",get:function(){return this._scrollTarget}},{key:"scrolling",get:function(){return this._scrolling}},{key:"speedY",get:function(){return this._speedY}},{key:"speedX",get:function(){return this._speedX}},{key:"canScrollY",get:function(){return this._canScrollY}},{key:"canScrollX",get:function(){return this._canScrollX}},{key:"y",get:function(){return this.scrollPosition.y}},{key:"x",get:function(){return this.scrollPosition.x}},{key:"clientHeight",get:function(){return this._scrollTarget===window?window.innerHeight:this._scrollTarget.clientHeight}},{key:"clientWidth",get:function(){return this._scrollTarget===window?window.innerWidth:this._scrollTarget.clientWidth}},{key:"scrollHeight",get:function(){return this._scrollTarget===window?b.documentHeight:this._scrollTarget.scrollHeight}},{key:"scrollWidth",get:function(){return this._scrollTarget===window?b.documentWidth:this._scrollTarget.scrollWidth}}]),b}(j.default);n.direction={up:-1,down:1,none:0,right:2,left:-2},n.events={SCROLL_PROGRESS:"scroll:progress",SCROLL_START:"scroll:start",SCROLL_STOP:"scroll:stop",SCROLL_DOWN:"scroll:down",SCROLL_UP:"scroll:up",SCROLL_MIN:"scroll:min",SCROLL_MAX:"scroll:max",SCROLL_RESIZE:"scroll:resize"},c.default=n;var o=null,p=function(){function a(){e(this,a)}return h(a,null,[{key:"animationFrame",get:function(){return null===o&&(o=!!(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame)),o}}]),a}();b.exports=c.default},{"./scroll-parent":6,eventdispatcher:3}],8:[function(a,b,c){!function(){var a,d={};Object.defineProperty(d,"__esModule",{value:!0}),function(a){!function(a){a.UP="Up",a.DOWN="Down"}(a.SlideType||(a.SlideType={})),function(a){a.SLIDE_DOWN="slideDown",a.SLIDE_UP="slideUp"}(a.MethodType||(a.MethodType={})),function(a){a.EASE="ease",a.LINEAR="linear",a.EASE_IN="ease-in",a.EASE_OUT="ease-out",a.EASE_IN_OUT="ease-in-out"}(a.SlideTiming||(a.SlideTiming={}))}(a||(a={},d.SlideHeaderModel=a));var e={};Object.defineProperty(e,"__esModule",{value:!0});var f=function(){function b(b,c){if(this.methodType=a.MethodType.SLIDE_DOWN,this.slideDirection=a.SlideType.UP,this.config={},!b)throw new Error("element must not be null.");if(this.element=document.querySelector(b),this.element instanceof HTMLElement==0)throw new Error("querySelector does not find appropriate element.");this.options=c,this.defaults={headerBarHeight:this.element.clientHeight,headerBarWidth:"100%",header2SelectorName:".cb-header2",zIndex:9999,boxShadow:"none",opacity:1,slidePoint:0,slideDownDuration:"500ms",slideUpDuration:"500ms",slideDownTiming:a.SlideTiming.EASE,slideUpTiming:a.SlideTiming.EASE,slideDownCallback:function(){},slideUpCallback:function(){},cloneHeader:!1,fullscreenView:!1,headroom:!1}}return Object.defineProperty(b.prototype,"isHeadroom",{get:function(){return void 0!==this.config.headroom&&null!==this.config.headroom&&this.methodType===a.MethodType.SLIDE_UP&&this.config.headroom},enumerable:!0,configurable:!0}),b.prototype.controlHeaderAnimations=function(b,c){var d=this.config["slide"+b+"Duration"],e=this.config["slide"+b+"Timing"];this.element.style.transition="transform "+d+" "+e,this.element.style.transform="translate3d(0, "+c+", 0)",this.slideDirection=this.slideDirection===a.SlideType.UP?a.SlideType.DOWN:a.SlideType.UP},b.prototype.handleScroll=function(b,c,d){if(void 0===this.config.slidePoint||null===this.config.slidePoint)throw new Error("slidePoint must not to be undefined.");var e=this.methodType===a.MethodType.SLIDE_DOWN?0:"-"+this.config.headerBarHeight+"px",f=this.methodType===a.MethodType.SLIDE_DOWN?"-"+this.config.headerBarHeight+"px":0;b>this.config.slidePoint&&b>c?this.slideDirection===a.SlideType.UP&&this.controlHeaderAnimations(d,e):this.slideDirection===a.SlideType.DOWN&&this.controlHeaderAnimations(d,f)},b.prototype.listenScroll=function(b,c){var d=this,e=0,f=0;window.addEventListener("scroll",function(){var g=0;cancelAnimationFrame(g),g=requestAnimationFrame(function(){f=window.scrollY;var g=d.slideDirection===a.SlideType.UP?b:c;d.handleScroll(f,e,g),d.isHeadroom&&(e=f)})},!1)},b.prototype.handleTransitionend=function(a,b){this.element.style.boxShadow=b,"function"==typeof this.config["slide"+a+"Callback"]&&this.config["slide"+a+"Callback"]()},b.prototype.listenTransitionEnd=function(b,c){var d=this,e=""+this.config.boxShadow,f=this.methodType===a.MethodType.SLIDE_DOWN?e:"none",g=this.methodType===a.MethodType.SLIDE_DOWN?"none":e;window.addEventListener("transitionend",function(){var e=d.slideDirection===a.SlideType.UP?b:c,h=d.slideDirection===a.SlideType.UP?f:g;d.handleTransitionend(e,h)},!1)},b.prototype.excuteSlideHeader=function(){var b=this.methodType===a.MethodType.SLIDE_DOWN?a.SlideType.DOWN:a.SlideType.UP,c=this.methodType===a.MethodType.SLIDE_DOWN?a.SlideType.UP:a.SlideType.DOWN;this.listenScroll(b,c),this.listenTransitionEnd(b,c)},b.prototype.applyDefaultHeaderStyles=function(){var b=this.methodType===a.MethodType.SLIDE_DOWN?"-"+this.config.headerBarHeight+"px":0;this.element.style.transform="translate3d(0, "+b+", 0)",this.element.style.visibility="visible",this.element.style.opacity=""+this.config.opacity,this.element.style.width=""+this.config.headerBarWidth,this.element.style.zIndex=""+this.config.zIndex},b.prototype.cloneHeader=function(){if(!this.element.parentNode)throw new Error("parentNode does not be found.");var a=this.element.cloneNode(!0);this.element.parentNode.insertBefore(a,this.element.nextElementSibling),a.removeAttribute("class"),a.setAttribute("class","cb-header1"),a.style.zIndex="10000"},b.prototype.applyHeader2Styles=function(){if(!this.config.header2SelectorName)throw new Error("header2SelectorName must not be undefined.");var a=document.querySelector(this.config.header2SelectorName);if(a instanceof HTMLElement==0)throw new Error("querySelector does not find appropriate element.");var b=this.element.clientHeight,c=b+a.clientHeight,d=window.outerHeight;if(d>c){var e=this.config.cloneHeader?(d-c)/2:(d-c+b)/2;a.style.paddingTop=e+"px",a.style.paddingBottom=e+"px",this.config.slidePoint=d}else this.config.slidePoint=this.config.cloneHeader?c:c-b},b.prototype.mergeOptions=function(a,b){return Object.assign({},a,b)},b.prototype.init=function(b){if(!b||b!==a.MethodType.SLIDE_UP&&b!==a.MethodType.SLIDE_DOWN)throw new Error("type does not found and is not type of MethodType.");this.methodType=b,this.config=this.mergeOptions(this.defaults,this.options),this.config.cloneHeader&&this.cloneHeader(),this.applyDefaultHeaderStyles(),this.config.fullscreenView&&this.applyHeader2Styles(),this.excuteSlideHeader()},b}(),g=f;e.default=g;var h={};Object.defineProperty(h,"__esModule",{value:!0});var i=g;h.default=i,window.SlideHeader=g,"object"==typeof c&&void 0!==b?b.exports=h:"function"==typeof define&&define.amd&&define(function(){return h})}()},{}],9:[function(a,b,c){!function(){"use strict";function a(){function a(a){var b=["MSIE ","Trident/","Edge/"];return new RegExp(b.join("|")).test(a)}function b(a,b){this.scrollLeft=a,this.scrollTop=b}function c(a){return.5*(1-Math.cos(Math.PI*a))}function d(a){if(null===a||"object"!=typeof a||void 0===a.behavior||"auto"===a.behavior||"instant"===a.behavior)return!0;if("object"==typeof a&&"smooth"===a.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+a.behavior+" is not a valid value for enumeration ScrollBehavior.")}function e(a,b){return"Y"===b?a.clientHeight+q<a.scrollHeight:"X"===b?a.clientWidth+q<a.scrollWidth:void 0}function f(a,b){var c=k.getComputedStyle(a,null)["overflow"+b];return"auto"===c||"scroll"===c}function g(a){var b=e(a,"Y")&&f(a,"Y"),c=e(a,"X")&&f(a,"X");return b||c}function h(a){var b;do{a=a.parentNode,b=a===l.body}while(!1===b&&!1===g(a));return b=null,a}function i(a){var b,d,e,f=p(),g=(f-a.startTime)/n;g=g>1?1:g,b=c(g),d=a.startX+(a.x-a.startX)*b,e=a.startY+(a.y-a.startY)*b,a.method.call(a.scrollable,d,e),d===a.x&&e===a.y||k.requestAnimationFrame(i.bind(k,a))}function j(a,c,d){var e,f,g,h,j=p();a===l.body?(e=k,f=k.scrollX||k.pageXOffset,g=k.scrollY||k.pageYOffset,h=o.scroll):(e=a,f=a.scrollLeft,g=a.scrollTop,h=b),i({scrollable:e,method:h,startTime:j,startX:f,startY:g,x:c,y:d})}var k=window,l=document;if(!("scrollBehavior"in l.documentElement.style&&!0!==k.__forceSmoothScrollPolyfill__)){var m=k.HTMLElement||k.Element,n=468,o={scroll:k.scroll||k.scrollTo,scrollBy:k.scrollBy,elementScroll:m.prototype.scroll||b,scrollIntoView:m.prototype.scrollIntoView},p=k.performance&&k.performance.now?k.performance.now.bind(k.performance):Date.now,q=a(k.navigator.userAgent)?1:0;k.scroll=k.scrollTo=function(){if(void 0!==arguments[0])return!0===d(arguments[0])?void o.scroll.call(k,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:k.scrollX||k.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:k.scrollY||k.pageYOffset):void j.call(k,l.body,void 0!==arguments[0].left?~~arguments[0].left:k.scrollX||k.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:k.scrollY||k.pageYOffset)},k.scrollBy=function(){if(void 0!==arguments[0])return d(arguments[0])?void o.scrollBy.call(k,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):void j.call(k,l.body,~~arguments[0].left+(k.scrollX||k.pageXOffset),~~arguments[0].top+(k.scrollY||k.pageYOffset))},m.prototype.scroll=m.prototype.scrollTo=function(){if(void 0!==arguments[0]){if(!0===d(arguments[0])){if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");return void o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}var a=arguments[0].left,b=arguments[0].top;j.call(this,this,void 0===a?this.scrollLeft:~~a,void 0===b?this.scrollTop:~~b)}},m.prototype.scrollBy=function(){if(void 0!==arguments[0])return!0===d(arguments[0])?void o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop):void this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior})},m.prototype.scrollIntoView=function(){if(!0===d(arguments[0]))return void o.scrollIntoView.call(this,void 0===arguments[0]||arguments[0]);var a=h(this),b=a.getBoundingClientRect(),c=this.getBoundingClientRect();a!==l.body?(j.call(this,a,a.scrollLeft+c.left-b.left,a.scrollTop+c.top-b.top),"fixed"!==k.getComputedStyle(a).position&&k.scrollBy({left:b.left,top:b.top,behavior:"smooth"})):k.scrollBy({left:c.left,top:c.top,behavior:"smooth"})}}}"object"==typeof c&&void 0!==b?b.exports={polyfill:a}:a()}()},{}],10:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("object-assign"),j=d(i),k=a("classstring"),l=d(k),m=a("eventdispatcher"),n=d(m),o=a("scrollfeatures"),p=d(o),q={disabled:!1,className:"sticky",stateClassName:"is-sticky",fixedClass:"sticky-fixed",wrapperClass:"sticky-wrap",wrapFixedSticky:!0,absoluteClass:"is-absolute",scrollClass:{down:null,up:null,none:null,persist:!1,active:!1}},r={sticky:!1,absolute:!1,fixedOffset:"",offsetHeight:0,bounds:{top:null,left:null,right:null,bottom:null,height:null,width:null},restrict:{top:null,left:null,right:null,bottom:null,height:null,width:null},wrapperStyle:null,elementStyle:null,initialStyle:null,style:{top:null,bottom:null,left:null,right:null,"margin-top":0,"margin-bottom":0,"margin-left":0,"margin-right":0},disabled:!1},s=function(a,b){var c=a.getBoundingClientRect(),d=c.top+p.default.windowY,e=b||c.height;return{top:d,bottom:d+e,height:e,width:c.width,left:c.left,right:c.right}},t=function(a,b){var c=(0,j.default)({},a);return c.top-=b.top,c.left-=b.left,c.right=c.left+a.width,c.bottom=c.top+a.height,c},u=function(a){var b={},c=window.getComputedStyle(a,null);for(var d in r.style){var e=parseInt(c.getPropertyValue(d));e=isNaN(e)?null:e,b[d]=e}return b},v=function a(b){var c=b.previousElementSibling;return c&&"script"===c.tagName.toLocaleLowerCase()&&(c=a(c)),c},w=function(a){function b(c,d){e(this,b);var g;c instanceof window.NodeList&&(g=[].slice.call(c,1),c=c[0]);var h=f(this,a.call(this,{target:c}));if(h.el=null,h.firstRender=!0,h.scroll=null,h.wrapper=null,h.options=null,h.el=c,d&&d.scrollClass&&(d.scrollClass=(0,j.default)({},q.scrollClass,d.scrollClass,{active:!0})),h.options=(0,j.default)({},q,d),h.setState((0,j.default)({},r,{disabled:h.options.disabled}),!0),h.scrollTarget=p.default.getScrollParent(h.el),h.hasOwnScrollTarget=h.scrollTarget!==window,h.hasOwnScrollTarget&&(h.updateFixedOffset=h.updateFixedOffset.bind(h)),h.render=h.render.bind(h),h.addSrollHandler(),h.addResizeHandler(),h.render(),g&&g.length){var i,k=b.apply(g,d);return k.push(h),i=k,f(h,i)}return h}return g(b,a),b.apply=function(a,c){if(a&&a.length){for(var d=new z,e=0;e<a.length;e++)d.push(new b(a[e],c));return d}return new b(a,c)},b.prototype.setState=function(a,b){this.lastState=this.state||a,this.state=(0,j.default)({},this.state,a),!0!==b&&(this.render(),this.trigger(this.state.sticky?"sticky:on":"sticky:off"))},b.prototype.disable=function(a){this.setState({disabled:a},a)},b.prototype.getBoundingClientRect=function(){return this.el.getBoundingClientRect()},b.prototype.getBounds=function(a){var b=this.getBoundingClientRect(),c=p.default.documentHeight;if(!0!==(a=!0===a)&&null!==this.state.bounds.height&&this.state.offsetHeight===c&&b.height===this.state.bounds.height)return{offsetHeight:c,style:this.state.style,bounds:this.state.bounds,restrict:this.state.restrict};var d=this.state.initialStyle;d||(d=u(this.el));var e,f,g=d,h=this.wrapper||this.el,i=0;if(y.sticky){var j=v(h);i=0,j?(i=parseInt(window.getComputedStyle(j)["margin-bottom"]),i=i||0,e=s(j),this.hasOwnScrollTarget&&(e=t(e,s(this.scrollTarget)),i+=this.scroll.y),e.top=e.bottom+i):(j=h.parentNode,
i=parseInt(window.getComputedStyle(j)["padding-top"]),i=i||0,e=s(j),this.hasOwnScrollTarget&&(e=t(e,s(this.scrollTarget)),i+=this.scroll.y),e.top=e.top+i),this.hasOwnScrollTarget&&(f=s(this.scrollTarget),f.top=0,f.height=this.scroll.scrollHeight||f.height,f.bottom=f.height),e.height=h.clientHeight,e.width=h.clientWidth,e.bottom=e.top+e.height}else if(e=s(h,b.height),this.hasOwnScrollTarget){var k=s(this.scrollTarget);i=this.scroll.y,e=t(e,k),f=k,f.top=0,f.height=this.scroll.scrollHeight||f.height,f.bottom=f.height}return f=f||s(h.parentNode),{offsetHeight:c,style:g,bounds:e,initialStyle:d,restrict:f}},b.prototype.updateBounds=function(a,b){a=!0===a,b=!0===b,this.setState(this.getBounds(b),a)},b.prototype.updateFixedOffset=function(){this.lastState.fixedOffset=this.state.fixedOffset,this.state.sticky?this.state.fixedOffset=this.scrollTarget.getBoundingClientRect().top+"px;":this.state.fixedOffset="",this.lastState.fixedOffset!==this.state.fixedOffset&&this.render()},b.prototype.addSrollHandler=function(){if(!this.scroll){var a=p.default.hasInstance(this.scrollTarget);this.scroll=p.default.getInstance(this.scrollTarget),this.onScroll=this.onScroll.bind(this),this.scroll.on("scroll:start",this.onScroll),this.scroll.on("scroll:progress",this.onScroll),this.scroll.on("scroll:stop",this.onScroll),this.options.scrollClass.active&&(this.onScrollDirection=this.onScrollDirection.bind(this),this.scroll.on("scroll:up",this.onScrollDirection),this.scroll.on("scroll:down",this.onScrollDirection),this.options.scrollClass.persist||this.scroll.on("scroll:stop",this.onScrollDirection)),a&&this.scroll.scrollY>0&&this.scroll.trigger("scroll:progress")}},b.prototype.removeSrollHandler=function(){this.scroll&&(this.scroll.off("scroll:start",this.onScroll),this.scroll.off("scroll:progress",this.onScroll),this.scroll.off("scroll:stop",this.onScroll),this.options.scrollClass.active&&(this.scroll.off("scroll:up",this.onScrollDirection),this.scroll.off("scroll:down",this.onScrollDirection),this.scroll.off("scroll:stop",this.onScrollDirection)),this.scroll.hasListeners()||this.scroll.destroy(),this.onScroll=null,this.onScrollDirection=null,this.scroll=null)},b.prototype.addResizeHandler=function(){this.onResize||(this.onResize=this.update.bind(this),window.addEventListener("sticky:update",this.onResize,!1),window.addEventListener("resize",this.onResize,!1),window.addEventListener("orientationchange",this.onResize,!1))},b.prototype.removeResizeHandler=function(){this.onResize&&(window.removeEventListener("sticky:update",this.onResize),window.removeEventListener("resize",this.onResize),window.removeEventListener("orientationchange",this.onResize),this.onResize=null)},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.removeSrollHandler(),this.removeResizeHandler(),this.render=null,this.el=null,this.state=null,this.wrapper=null},b.prototype.getScrollClasses=function(a){if(this.options.scrollClass.active){a=a||{};var b=this.scroll.y<=0||this.scroll.y+this.scroll.clientHeight>=this.scroll.scrollHeight?0:this.scroll.directionY;a[this.options.scrollClass.up]=b<0,a[this.options.scrollClass.down]=b>0}return a},b.prototype.onScrollDirection=function(a){(this.state.sticky||a.type===p.default.events.SCROLL_STOP)&&(this.el.className=(0,l.default)(this.el.className,this.getScrollClasses()))},b.prototype.onScroll=function(a){this.updateStickyState(!1),this.hasOwnScrollTarget&&!y.sticky&&(this.updateFixedOffset(),this.state.sticky&&!this.hasWindowScrollListener?(this.hasWindowScrollListener=!0,p.default.getInstance(window).on("scroll:progress",this.updateFixedOffset)):!this.state.sticky&&this.hasWindowScrollListener&&(this.hasWindowScrollListener=!1,p.default.getInstance(window).off("scroll:progress",this.updateFixedOffset)))},b.prototype.update=function(){this.scroll.updateScrollPosition(),this.updateBounds(!0,!0),this.updateStickyState(!1)},b.prototype.getStickyState=function(){if(this.state.disabled)return{sticky:!1,absolute:!1};var a=this.scroll.y,b=(this.scroll.x,this.state.style.top),c=this.state.style.bottom,d=this.state.sticky,e=this.state.absolute;if(null!==b){var f=this.state.restrict.bottom-this.state.bounds.height-b;b=this.state.bounds.top-b,!1===this.state.sticky&&(a>=b&&a<=f||b<=0&&a<b)?(d=!0,e=!1):this.state.sticky&&(b>0&&a<b||a>f)&&(d=!1,e=a>f)}else if(null!==c){a+=window.innerHeight;var g=this.state.restrict.top+this.state.bounds.height-c;c=this.state.bounds.bottom+c,!1===this.state.sticky&&a<=c&&a>=g?(d=!0,e=!1):this.state.sticky&&(a>c||a<g)&&(d=!1,e=a<=g)}return{sticky:d,absolute:e}},b.prototype.updateStickyState=function(a){var b=this.getStickyState();b.sticky===this.state.sticky&&b.absolute===this.state.absolute||(a=!0===a,b=(0,j.default)(b,this.getBounds()),this.setState(b,a))},b.prototype.render=function(){if(!this.state.disabled){var a={};if(this.firstRender){if(this.firstRender=!1,!y.sticky){this.wrapper=document.createElement("div"),this.wrapper.className=this.options.wrapperClass;var b=this.el.parentNode;b&&b.insertBefore(this.wrapper,this.el),this.options.wrapFixedSticky&&this.wrapper.appendChild(this.el),a[this.options.fixedClass]=!0}this.updateBounds(!0,!0),this.updateStickyState(!0)}if(!y.sticky){var c="",d=this.state.disabled||null===this.state.bounds.height||!this.state.sticky&&!this.state.absolute?"auto;":this.state.bounds.height+"px;",e="height:"+d;e+="auto;"===d?"":(this.state.style["margin-top"]?"margin-top:"+this.state.style["margin-top"]+"px;":"0;")+(this.state.style["margin-bottom"]?"margin-bottom"+this.state.style["margin-bottom"]+"px;":"0;"),this.state.absolute!==this.lastState.absolute&&(e+=this.state.absolute?"position:relative;":"",a[this.options.absoluteClass]=this.state.absolute,c+=this.state.absolute?null!==this.state.style.top?"margin-top:"+(this.state.restrict.height-(this.state.bounds.height+this.state.style.top)+(this.state.restrict.top-this.state.bounds.top))+"px;":"margin-top:0;"+(null!==this.state.style.bottom?"margin-bottom:"+(this.state.restrict.height-(this.state.bounds.height+this.state.style.bottom)+(this.state.restrict.bottom-this.state.bounds.bottom))+"px;":"margin-bottom:0;"):"margin-bottom:0;margin-top:0;"),null===this.state.style.top&&null===this.state.style.bottom||!this.hasOwnScrollTarget||this.state.absolute||this.lastState.fixedOffset===this.state.fixedOffset||(c+="margin-top:"+(this.state.fixedOffset?this.state.fixedOffset:"0;")),this.state.wrapperStyle!==e&&(this.state.wrapperStyle=e,this.wrapper.style.cssText+=e),this.state.elementStyle!==c&&(this.state.elementStyle=c,this.el.style.cssText+=c)}a[this.options.stateClassName]=this.state.sticky,a=this.getScrollClasses(a);var f=(0,l.default)(this.el.className,a);return this.el.className!==f&&(this.el.className=f),this.el}},h(b,null,[{key:"native",get:function(){return y.sticky}}]),b}(n.default),x=null,y=function(){function a(){e(this,a)}return h(a,null,[{key:"sticky",get:function(){if(null!==x)return x;if("undefined"!=typeof window){if(window.Modernizr&&window.Modernizr.hasOwnProperty("csspositionsticky"))return x=window.Modernizr.csspositionsticky;var a=document.documentElement,b=document.createElement("div");a.appendChild(b);var c=["sticky","-webkit-sticky"];x=!1;for(var d=0;d<c.length&&(b.style.position=c[d],!(x=!!window.getComputedStyle(b).position.match("sticky")));d++);a.removeChild(b)}return x}}]),a}(),z=function(a){function b(){e(this,b);var c=f(this,a.call(this));return c.items=[],c}return g(b,a),b.prototype.push=function(a){this.items.push(a)},b.prototype.update=function(){for(var a=-1;++a<this.items.length;)this.items[a].update()},b.prototype.addListener=function(a,b){for(var c=-1;++c<this.items.length;)this.items[c].addListener(a,b);return this},b.prototype.removeListener=function(a,b){for(var c=-1;++c<this.items.length;)this.items[c].removeListener(a,b);return this},b}(n.default);c.default=w,b.exports=c.default},{classstring:2,eventdispatcher:3,"object-assign":4,scrollfeatures:7}],11:[function(a,b,c){(function(){var a=this;(function(){(function(){this.Turbolinks={supported:function(){return null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener}(),visit:function(a,b){return c.controller.visit(a,b)},clearCache:function(){return c.controller.clearCache()},setProgressBarDelay:function(a){return c.controller.setProgressBarDelay(a)}}}).call(this)}).call(a);var c=a.Turbolinks;(function(){(function(){var a,b,d,e=[].slice;c.copyObject=function(a){var b,c,d;c={};for(b in a)d=a[b],c[b]=d;return c},c.closest=function(b,c){return a.call(b,c)},a=function(){var a,c;return a=document.documentElement,null!=(c=a.closest)?c:function(a){var c;for(c=this;c;){if(c.nodeType===Node.ELEMENT_NODE&&b.call(c,a))return c;c=c.parentNode}}}(),c.defer=function(a){return setTimeout(a,1)},c.throttle=function(a){var b;return b=null,function(){var c;return c=1<=arguments.length?e.call(arguments,0):[],null!=b?b:b=requestAnimationFrame(function(d){return function(){return b=null,a.apply(d,c)}}(this))}},c.dispatch=function(a,b){var c,e,f,g,h,i;return h=null!=b?b:{},i=h.target,c=h.cancelable,e=h.data,f=document.createEvent("Events"),f.initEvent(a,!0,!0===c),f.data=null!=e?e:{},f.cancelable&&!d&&(g=f.preventDefault,f.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),g.call(this)}),(null!=i?i:document).dispatchEvent(f),f},d=function(){var a;return a=document.createEvent("Events"),a.initEvent("test",!0,!0),a.preventDefault(),a.defaultPrevented}(),c.match=function(a,c){return b.call(a,c)},b=function(){var a,b,c,d;return a=document.documentElement,null!=(b=null!=(c=null!=(d=a.matchesSelector)?d:a.webkitMatchesSelector)?c:a.msMatchesSelector)?b:a.mozMatchesSelector}(),c.uuid=function(){var a,b,c;for(c="",a=b=1;36>=b;a=++b)c+=9===a||14===a||19===a||24===a?"-":15===a?"4":20===a?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return c}}).call(this),function(){c.Location=function(){function a(a){var b,c;null==a&&(a=""),c=document.createElement("a"),c.href=a.toString(),this.absoluteURL=c.href,b=c.hash.length,2>b?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-b),this.anchor=c.hash.slice(1))}var b,c,d,e;return a.wrap=function(a){return a instanceof this?a:new this(a)},a.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},a.prototype.getPath=function(){var a,b;return null!=(a=null!=(b=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?b[1]:void 0)?a:"/"},a.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},a.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},a.prototype.getExtension=function(){var a,b;return null!=(a=null!=(b=this.getLastPathComponent().match(/\.[^.]*$/))?b[0]:void 0)?a:""},a.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},a.prototype.isPrefixedBy=function(a){var b;return b=c(a),this.isEqualTo(a)||e(this.absoluteURL,b)},a.prototype.isEqualTo=function(a){return this.absoluteURL===(null!=a?a.absoluteURL:void 0)},a.prototype.toCacheKey=function(){return this.requestURL},a.prototype.toJSON=function(){return this.absoluteURL},a.prototype.toString=function(){return this.absoluteURL},a.prototype.valueOf=function(){return this.absoluteURL},c=function(a){return b(a.getOrigin()+a.getPath())},b=function(a){return d(a,"/")?a:a+"/"},e=function(a,b){return a.slice(0,b.length)===b},d=function(a,b){return a.slice(-b.length)===b},a}()}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};c.HttpRequest=function(){function b(b,d,e){this.delegate=b,this.requestCanceled=a(this.requestCanceled,this),this.requestTimedOut=a(this.requestTimedOut,this),this.requestFailed=a(this.requestFailed,this),this.requestLoaded=a(this.requestLoaded,this),this.requestProgressed=a(this.requestProgressed,this),this.url=c.Location.wrap(d).requestURL,this.referrer=c.Location.wrap(e).absoluteURL,this.createXHR()}return b.NETWORK_FAILURE=0,b.TIMEOUT_FAILURE=-1,b.timeout=60,b.prototype.send=function(){var a;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(a=this.delegate).requestStarted?a.requestStarted():void 0):void 0},b.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},b.prototype.requestProgressed=function(a){return a.lengthComputable?this.setProgress(a.loaded/a.total):void 0},b.prototype.requestLoaded=function(){return this.endRequest(function(a){return function(){var b;return 200<=(b=a.xhr.status)&&300>b?a.delegate.requestCompletedWithResponse(a.xhr.responseText,a.xhr.getResponseHeader("Turbolinks-Location")):(a.failed=!0,a.delegate.requestFailedWithStatusCode(a.xhr.status,a.xhr.responseText))}}(this))},b.prototype.requestFailed=function(){return this.endRequest(function(a){return function(){return a.failed=!0,a.delegate.requestFailedWithStatusCode(a.constructor.NETWORK_FAILURE)}}(this))},b.prototype.requestTimedOut=function(){return this.endRequest(function(a){return function(){return a.failed=!0,a.delegate.requestFailedWithStatusCode(a.constructor.TIMEOUT_FAILURE)}}(this))},b.prototype.requestCanceled=function(){return this.endRequest()},b.prototype.notifyApplicationBeforeRequestStart=function(){return c.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},b.prototype.notifyApplicationAfterRequestEnd=function(){return c.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},b.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},b.prototype.endRequest=function(a){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=a&&a.call(this),this.destroy()):void 0},b.prototype.setProgress=function(a){var b;return this.progress=a,"function"==typeof(b=this.delegate).requestProgressed?b.requestProgressed(this.progress):void 0},b.prototype.destroy=function(){var a;return this.setProgress(1),"function"==typeof(a=this.delegate).requestFinished&&a.requestFinished(),this.delegate=null,this.xhr=null},b}()}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};c.ProgressBar=function(){function b(){this.trickle=a(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var c;return c=300,b.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+c+"ms ease-out, opacity "+c/2+"ms "+c/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",b.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},b.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement(function(a){return function(){return a.uninstallProgressElement(),a.stopTrickling(),a.visible=!1,a.hiding=!1}}(this))):void 0},b.prototype.setValue=function(a){return this.value=a,this.refresh()},b.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},b.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},b.prototype.fadeProgressElement=function(a){return this.progressElement.style.opacity=0,setTimeout(a,1.5*c)},b.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},b.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,c)},b.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},b.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},b.prototype.refresh=function(){return requestAnimationFrame(function(a){return function(){return a.progressElement.style.width=10+90*a.value+"%"}}(this))},b.prototype.createStylesheetElement=function(){var a;return a=document.createElement("style"),a.type="text/css",a.textContent=this.constructor.defaultCSS,a},b.prototype.createProgressElement=function(){var a;return a=document.createElement("div"),a.className="turbolinks-progress-bar",a},b}()}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};c.BrowserAdapter=function(){function b(b){this.controller=b,this.showProgressBar=a(this.showProgressBar,this),this.progressBar=new c.ProgressBar}var d,e,f;return f=c.HttpRequest,d=f.NETWORK_FAILURE,e=f.TIMEOUT_FAILURE,b.prototype.visitProposedToLocationWithAction=function(a,b){return this.controller.startVisitToLocationWithAction(a,b)},b.prototype.visitStarted=function(a){return a.issueRequest(),a.changeHistory(),a.loadCachedSnapshot()},b.prototype.visitRequestStarted=function(a){return this.progressBar.setValue(0),a.hasCachedSnapshot()||"restore"!==a.action?this.showProgressBarAfterDelay():this.showProgressBar()},b.prototype.visitRequestProgressed=function(a){return this.progressBar.setValue(a.progress)},b.prototype.visitRequestCompleted=function(a){return a.loadResponse()},b.prototype.visitRequestFailedWithStatusCode=function(a,b){switch(b){case d:case e:return this.reload();default:return a.loadResponse()}},b.prototype.visitRequestFinished=function(a){return this.hideProgressBar()},b.prototype.visitCompleted=function(a){return a.followRedirect()},b.prototype.pageInvalidated=function(){return this.reload()},b.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},b.prototype.showProgressBar=function(){return this.progressBar.show()},b.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},b.prototype.reload=function(){return window.location.reload()},b}()}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};c.History=function(){function b(b){this.delegate=b,this.onPageLoad=a(this.onPageLoad,this),this.onPopState=a(this.onPopState,this)}return b.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},b.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},b.prototype.push=function(a,b){return a=c.Location.wrap(a),this.update("push",a,b)},b.prototype.replace=function(a,b){return a=c.Location.wrap(a),this.update("replace",a,b)},b.prototype.onPopState=function(a){var b,d,e,f;return this.shouldHandlePopState()&&(f=null!=(d=a.state)?d.turbolinks:void 0)?(b=c.Location.wrap(window.location),e=f.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(b,e)):void 0},b.prototype.onPageLoad=function(a){return c.defer(function(a){return function(){return a.pageLoaded=!0}}(this))},b.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},b.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},b.prototype.update=function(a,b,c){var d;return d={turbolinks:{restorationIdentifier:c}},history[a+"State"](d,null,b)},b}()}.call(this),function(){c.Snapshot=function(){function a(a){var b,c;c=a.head,b=a.body,this.head=null!=c?c:document.createElement("head"),this.body=null!=b?b:document.createElement("body")}return a.wrap=function(a){return a instanceof this?a:this.fromHTML(a)},a.fromHTML=function(a){var b;return b=document.createElement("html"),b.innerHTML=a,this.fromElement(b)},a.fromElement=function(a){return new this({head:a.querySelector("head"),body:a.querySelector("body")})},a.prototype.clone=function(){return new a({head:this.head.cloneNode(!0),body:this.body.cloneNode(!0)})},a.prototype.getRootLocation=function(){var a,b;return b=null!=(a=this.getSetting("root"))?a:"/",new c.Location(b)},a.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},a.prototype.getElementForAnchor=function(a){try{return this.body.querySelector("[id='"+a+"'], a[name='"+a+"']")}catch(a){}},a.prototype.hasAnchor=function(a){return null!=this.getElementForAnchor(a)},a.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},a.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},a.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},a.prototype.getSetting=function(a){var b,c;return c=this.head.querySelectorAll("meta[name='turbolinks-"+a+"']"),b=c[c.length-1],null!=b?b.getAttribute("content"):void 0},a}()}.call(this),function(){var a=[].slice;c.Renderer=function(){function b(){}var c;return b.render=function(){var b,c,d,e;return d=arguments[0],c=arguments[1],b=3<=arguments.length?a.call(arguments,2):[],e=function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(this,b,function(){}),e.delegate=d,e.render(c),e},b.prototype.renderView=function(a){return this.delegate.viewWillRender(this.newBody),a(),this.delegate.viewRendered(this.newBody)},b.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},b.prototype.createScriptElement=function(a){var b;return"false"===a.getAttribute("data-turbolinks-eval")?a:(b=document.createElement("script"),b.textContent=a.textContent,b.async=!1,c(b,a),b)},c=function(a,b){var c,d,e,f,g,h,i;for(f=b.attributes,h=[],c=0,d=f.length;d>c;c++)g=f[c],e=g.name,i=g.value,h.push(a.setAttribute(e,i));return h},b}()}.call(this),function(){c.HeadDetails=function(){function a(a){var b,c,f,g,h,i,j;for(this.element=a,this.elements={},j=this.element.childNodes,g=0,i=j.length;i>g;g++)f=j[g],f.nodeType===Node.ELEMENT_NODE&&(h=f.outerHTML,c=null!=(b=this.elements)[h]?b[h]:b[h]={type:e(f),tracked:d(f),elements:[]},c.elements.push(f))}var b,c,d,e;return a.prototype.hasElementWithKey=function(a){return a in this.elements},a.prototype.getTrackedElementSignature=function(){var a,b;return function(){var c,d;c=this.elements,d=[];for(a in c)(b=c[a].tracked)&&d.push(a);return d}.call(this).join("")},a.prototype.getScriptElementsNotInDetails=function(a){return this.getElementsMatchingTypeNotInDetails("script",a)},a.prototype.getStylesheetElementsNotInDetails=function(a){return this.getElementsMatchingTypeNotInDetails("stylesheet",a)},a.prototype.getElementsMatchingTypeNotInDetails=function(a,b){var c,d,e,f,g,h;e=this.elements,g=[];for(d in e)f=e[d],h=f.type,c=f.elements,h!==a||b.hasElementWithKey(d)||g.push(c[0]);return g},a.prototype.getProvisionalElements=function(){var a,b,c,d,e,f,g;c=[],d=this.elements;for(b in d)e=d[b],g=e.type,f=e.tracked,a=e.elements,null!=g||f?a.length>1&&c.push.apply(c,a.slice(1)):c.push.apply(c,a);return c},e=function(a){return b(a)?"script":c(a)?"stylesheet":void 0},d=function(a){return"reload"===a.getAttribute("data-turbolinks-track")},b=function(a){return"script"===a.tagName.toLowerCase()},c=function(a){var b;return"style"===(b=a.tagName.toLowerCase())||"link"===b&&"stylesheet"===a.getAttribute("rel")},a}()}.call(this),function(){var a=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},b={}.hasOwnProperty;c.SnapshotRenderer=function(b){function d(a,b,d){this.currentSnapshot=a,this.newSnapshot=b,this.isPreview=d,this.currentHeadDetails=new c.HeadDetails(this.currentSnapshot.head),this.newHeadDetails=new c.HeadDetails(this.newSnapshot.head),this.newBody=this.newSnapshot.body}return a(d,b),d.prototype.render=function(a){return this.shouldRender()?(this.mergeHead(),this.renderView(function(b){return function(){return b.replaceBody(),b.isPreview||b.focusFirstAutofocusableElement(),a()}}(this))):this.invalidateView()},d.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},d.prototype.replaceBody=function(){return this.activateBodyScriptElements(),this.importBodyPermanentElements(),this.assignNewBody()},d.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},d.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},d.prototype.copyNewHeadStylesheetElements=function(){var a,b,c,d,e;for(d=this.getNewHeadStylesheetElements(),e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(document.head.appendChild(a));return e},d.prototype.copyNewHeadScriptElements=function(){var a,b,c,d,e;for(d=this.getNewHeadScriptElements(),e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(document.head.appendChild(this.createScriptElement(a)));return e},d.prototype.removeCurrentHeadProvisionalElements=function(){var a,b,c,d,e;for(d=this.getCurrentHeadProvisionalElements(),e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(document.head.removeChild(a));return e},d.prototype.copyNewHeadProvisionalElements=function(){var a,b,c,d,e;for(d=this.getNewHeadProvisionalElements(),e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(document.head.appendChild(a));return e},d.prototype.importBodyPermanentElements=function(){var a,b,c,d,e,f;for(d=this.getNewBodyPermanentElements(),f=[],b=0,c=d.length;c>b;b++)e=d[b],(a=this.findCurrentBodyPermanentElement(e))?f.push(e.parentNode.replaceChild(a,e)):f.push(void 0);return f},d.prototype.activateBodyScriptElements=function(){var a,b,c,d,e,f;for(d=this.getNewBodyScriptElements(),f=[],b=0,c=d.length;c>b;b++)e=d[b],a=this.createScriptElement(e),f.push(e.parentNode.replaceChild(a,e));return f},d.prototype.assignNewBody=function(){return document.body=this.newBody},d.prototype.focusFirstAutofocusableElement=function(){var a;return null!=(a=this.findFirstAutofocusableElement())?a.focus():void 0},d.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},d.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},d.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},d.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},d.prototype.getNewBodyPermanentElements=function(){return this.newBody.querySelectorAll("[id][data-turbolinks-permanent]")},d.prototype.findCurrentBodyPermanentElement=function(a){return document.body.querySelector("#"+a.id+"[data-turbolinks-permanent]")},d.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},d.prototype.findFirstAutofocusableElement=function(){return document.body.querySelector("[autofocus]")},d}(c.Renderer)}.call(this),function(){var a=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},b={}.hasOwnProperty;c.ErrorRenderer=function(b){function c(a){this.html=a}return a(c,b),c.prototype.render=function(a){return this.renderView(function(b){return function(){return b.replaceDocumentHTML(),b.activateBodyScriptElements(),a()}}(this))},c.prototype.replaceDocumentHTML=function(){return document.documentElement.innerHTML=this.html},c.prototype.activateBodyScriptElements=function(){var a,b,c,d,e,f;for(d=this.getScriptElements(),f=[],b=0,c=d.length;c>b;b++)e=d[b],a=this.createScriptElement(e),f.push(e.parentNode.replaceChild(a,e));return f},c.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},c}(c.Renderer)}.call(this),function(){c.View=function(){function a(a){this.delegate=a,this.element=document.documentElement}return a.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},a.prototype.getElementForAnchor=function(a){return this.getSnapshot().getElementForAnchor(a)},a.prototype.getSnapshot=function(){return c.Snapshot.fromElement(this.element)},a.prototype.render=function(a,b){var c,d,e;return e=a.snapshot,c=a.error,d=a.isPreview,this.markAsPreview(d),null!=e?this.renderSnapshot(e,d,b):this.renderError(c,b)},a.prototype.markAsPreview=function(a){return a?this.element.setAttribute("data-turbolinks-preview",""):this.element.removeAttribute("data-turbolinks-preview")},a.prototype.renderSnapshot=function(a,b,d){return c.SnapshotRenderer.render(this.delegate,d,this.getSnapshot(),c.Snapshot.wrap(a),b)},a.prototype.renderError=function(a,b){return c.ErrorRenderer.render(this.delegate,b,a)},a}()}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};c.ScrollManager=function(){function b(b){this.delegate=b,this.onScroll=a(this.onScroll,this),this.onScroll=c.throttle(this.onScroll)}return b.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},b.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},b.prototype.scrollToElement=function(a){return a.scrollIntoView()},b.prototype.scrollToPosition=function(a){var b,c;return b=a.x,c=a.y,window.scrollTo(b,c)},b.prototype.onScroll=function(a){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},b.prototype.updatePosition=function(a){var b;return this.position=a,null!=(b=this.delegate)?b.scrollPositionChanged(this.position):void 0},b}()}.call(this),function(){c.SnapshotCache=function(){function a(a){this.size=a,this.keys=[],this.snapshots={}}var b;return a.prototype.has=function(a){return b(a)in this.snapshots},a.prototype.get=function(a){var b;if(this.has(a))return b=this.read(a),this.touch(a),b},a.prototype.put=function(a,b){return this.write(a,b),this.touch(a),b},a.prototype.read=function(a){var c;return c=b(a),this.snapshots[c]},a.prototype.write=function(a,c){var d;return d=b(a),this.snapshots[d]=c},a.prototype.touch=function(a){var c,d;return d=b(a),c=this.keys.indexOf(d),c>-1&&this.keys.splice(c,1),this.keys.unshift(d),this.trim()},a.prototype.trim=function(){var a,b,c,d,e;for(d=this.keys.splice(this.size),e=[],a=0,c=d.length;c>a;a++)b=d[a],e.push(delete this.snapshots[b]);return e},b=function(a){return c.Location.wrap(a).toCacheKey()},a}()}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};c.Visit=function(){function b(b,d,e){this.controller=b,this.action=e,this.performScroll=a(this.performScroll,this),this.identifier=c.uuid(),this.location=c.Location.wrap(d),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var d;return b.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},b.prototype.cancel=function(){var a;return"started"===this.state?(null!=(a=this.request)&&a.cancel(),this.cancelRender(),this.state="canceled"):void 0},b.prototype.complete=function(){var a;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(a=this.adapter).visitCompleted&&a.visitCompleted(this),this.controller.visitCompleted(this)):void 0},
b.prototype.fail=function(){var a;return"started"===this.state?(this.state="failed","function"==typeof(a=this.adapter).visitFailed?a.visitFailed(this):void 0):void 0},b.prototype.changeHistory=function(){var a,b;return this.historyChanged?void 0:(a=this.location.isEqualTo(this.referrer)?"replace":this.action,b=d(a),this.controller[b](this.location,this.restorationIdentifier),this.historyChanged=!0)},b.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new c.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},b.prototype.getCachedSnapshot=function(){var a;return!(a=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!a.hasAnchor(this.location.anchor)||"restore"!==this.action&&!a.isPreviewable()?void 0:a},b.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},b.prototype.loadCachedSnapshot=function(){var a,b;return(b=this.getCachedSnapshot())?(a=this.shouldIssueRequest(),this.render(function(){var c;return this.cacheSnapshot(),this.controller.render({snapshot:b,isPreview:a},this.performScroll),"function"==typeof(c=this.adapter).visitRendered&&c.visitRendered(this),a?void 0:this.complete()})):void 0},b.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var a,b;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(a=this.adapter).visitRendered&&a.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(b=this.adapter).visitRendered&&b.visitRendered(this),this.complete())}):void 0},b.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},b.prototype.requestStarted=function(){var a;return this.recordTimingMetric("requestStart"),"function"==typeof(a=this.adapter).visitRequestStarted?a.visitRequestStarted(this):void 0},b.prototype.requestProgressed=function(a){var b;return this.progress=a,"function"==typeof(b=this.adapter).visitRequestProgressed?b.visitRequestProgressed(this):void 0},b.prototype.requestCompletedWithResponse=function(a,b){return this.response=a,null!=b&&(this.redirectedToLocation=c.Location.wrap(b)),this.adapter.visitRequestCompleted(this)},b.prototype.requestFailedWithStatusCode=function(a,b){return this.response=b,this.adapter.visitRequestFailedWithStatusCode(this,a)},b.prototype.requestFinished=function(){var a;return this.recordTimingMetric("requestEnd"),"function"==typeof(a=this.adapter).visitRequestFinished?a.visitRequestFinished(this):void 0},b.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},b.prototype.scrollToRestoredPosition=function(){var a,b;return a=null!=(b=this.restorationData)?b.scrollPosition:void 0,null!=a?(this.controller.scrollToPosition(a),!0):void 0},b.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},b.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},b.prototype.recordTimingMetric=function(a){var b;return null!=(b=this.timingMetrics)[a]?b[a]:b[a]=(new Date).getTime()},b.prototype.getTimingMetrics=function(){return c.copyObject(this.timingMetrics)},d=function(a){switch(a){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},b.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},b.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},b.prototype.render=function(a){return this.cancelRender(),this.frame=requestAnimationFrame(function(b){return function(){return b.frame=null,a.call(b)}}(this))},b.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},b}()}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};c.Controller=function(){function b(){this.clickBubbled=a(this.clickBubbled,this),this.clickCaptured=a(this.clickCaptured,this),this.pageLoaded=a(this.pageLoaded,this),this.history=new c.History(this),this.view=new c.View(this),this.scrollManager=new c.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return b.prototype.start=function(){return c.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},b.prototype.disable=function(){return this.enabled=!1},b.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},b.prototype.clearCache=function(){return this.cache=new c.SnapshotCache(10)},b.prototype.visit=function(a,b){var d,e;return null==b&&(b={}),a=c.Location.wrap(a),this.applicationAllowsVisitingLocation(a)?this.locationIsVisitable(a)?(d=null!=(e=b.action)?e:"advance",this.adapter.visitProposedToLocationWithAction(a,d)):window.location=a:void 0},b.prototype.startVisitToLocationWithAction=function(a,b,d){var e;return c.supported?(e=this.getRestorationDataForIdentifier(d),this.startVisit(a,b,{restorationData:e})):window.location=a},b.prototype.setProgressBarDelay=function(a){return this.progressBarDelay=a},b.prototype.startHistory=function(){return this.location=c.Location.wrap(window.location),this.restorationIdentifier=c.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},b.prototype.stopHistory=function(){return this.history.stop()},b.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(a,b){return this.restorationIdentifier=b,this.location=c.Location.wrap(a),this.history.push(this.location,this.restorationIdentifier)},b.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(a,b){return this.restorationIdentifier=b,this.location=c.Location.wrap(a),this.history.replace(this.location,this.restorationIdentifier)},b.prototype.historyPoppedToLocationWithRestorationIdentifier=function(a,b){var d;return this.restorationIdentifier=b,this.enabled?(d=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(a,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:d,historyChanged:!0}),this.location=c.Location.wrap(a)):this.adapter.pageInvalidated()},b.prototype.getCachedSnapshotForLocation=function(a){var b;return b=this.cache.get(a),b?b.clone():void 0},b.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},b.prototype.cacheSnapshot=function(){var a;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),a=this.view.getSnapshot(),this.cache.put(this.lastRenderedLocation,a.clone())):void 0},b.prototype.scrollToAnchor=function(a){var b;return(b=this.view.getElementForAnchor(a))?this.scrollToElement(b):this.scrollToPosition({x:0,y:0})},b.prototype.scrollToElement=function(a){return this.scrollManager.scrollToElement(a)},b.prototype.scrollToPosition=function(a){return this.scrollManager.scrollToPosition(a)},b.prototype.scrollPositionChanged=function(a){var b;return b=this.getCurrentRestorationData(),b.scrollPosition=a},b.prototype.render=function(a,b){return this.view.render(a,b)},b.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},b.prototype.viewWillRender=function(a){return this.notifyApplicationBeforeRender(a)},b.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},b.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},b.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},b.prototype.clickBubbled=function(a){var b,c,d;return this.enabled&&this.clickEventIsSignificant(a)&&(c=this.getVisitableLinkForNode(a.target))&&(d=this.getVisitableLocationForLink(c))&&this.applicationAllowsFollowingLinkToLocation(c,d)?(a.preventDefault(),b=this.getActionForLink(c),this.visit(d,{action:b})):void 0},b.prototype.applicationAllowsFollowingLinkToLocation=function(a,b){var c;return c=this.notifyApplicationAfterClickingLinkToLocation(a,b),!c.defaultPrevented},b.prototype.applicationAllowsVisitingLocation=function(a){var b;return b=this.notifyApplicationBeforeVisitingLocation(a),!b.defaultPrevented},b.prototype.notifyApplicationAfterClickingLinkToLocation=function(a,b){return c.dispatch("turbolinks:click",{target:a,data:{url:b.absoluteURL},cancelable:!0})},b.prototype.notifyApplicationBeforeVisitingLocation=function(a){return c.dispatch("turbolinks:before-visit",{data:{url:a.absoluteURL},cancelable:!0})},b.prototype.notifyApplicationAfterVisitingLocation=function(a){return c.dispatch("turbolinks:visit",{data:{url:a.absoluteURL}})},b.prototype.notifyApplicationBeforeCachingSnapshot=function(){return c.dispatch("turbolinks:before-cache")},b.prototype.notifyApplicationBeforeRender=function(a){return c.dispatch("turbolinks:before-render",{data:{newBody:a}})},b.prototype.notifyApplicationAfterRender=function(){return c.dispatch("turbolinks:render")},b.prototype.notifyApplicationAfterPageLoad=function(a){return null==a&&(a={}),c.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:a}})},b.prototype.startVisit=function(a,b,c){var d;return null!=(d=this.currentVisit)&&d.cancel(),this.currentVisit=this.createVisit(a,b,c),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(a)},b.prototype.createVisit=function(a,b,d){var e,f,g,h,i;return f=null!=d?d:{},h=f.restorationIdentifier,g=f.restorationData,e=f.historyChanged,i=new c.Visit(this,a,b),i.restorationIdentifier=null!=h?h:c.uuid(),i.restorationData=c.copyObject(g),i.historyChanged=e,i.referrer=this.location,i},b.prototype.visitCompleted=function(a){return this.notifyApplicationAfterPageLoad(a.getTimingMetrics())},b.prototype.clickEventIsSignificant=function(a){return!(a.defaultPrevented||a.target.isContentEditable||a.which>1||a.altKey||a.ctrlKey||a.metaKey||a.shiftKey)},b.prototype.getVisitableLinkForNode=function(a){return this.nodeIsVisitable(a)?c.closest(a,"a[href]:not([target]):not([download])"):void 0},b.prototype.getVisitableLocationForLink=function(a){var b;return b=new c.Location(a.getAttribute("href")),this.locationIsVisitable(b)?b:void 0},b.prototype.getActionForLink=function(a){var b;return null!=(b=a.getAttribute("data-turbolinks-action"))?b:"advance"},b.prototype.nodeIsVisitable=function(a){var b;return!(b=c.closest(a,"[data-turbolinks]"))||"false"!==b.getAttribute("data-turbolinks")},b.prototype.locationIsVisitable=function(a){return a.isPrefixedBy(this.view.getRootLocation())&&a.isHTML()},b.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},b.prototype.getRestorationDataForIdentifier=function(a){var b;return null!=(b=this.restorationData)[a]?b[a]:b[a]={}},b}()}.call(this),function(){!function(){var a,b;if((a=b=document.currentScript)&&!b.hasAttribute("data-turbolinks-suppress-warning"))for(;a=a.parentNode;)if(a===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",b.outerHTML)}()}.call(this),function(){var a,b,d;c.start=function(){return b()?(null==c.controller&&(c.controller=a()),c.controller.start()):void 0},b=function(){return null==window.Turbolinks&&(window.Turbolinks=c),d()},a=function(){var a;return a=new c.Controller,a.adapter=new c.BrowserAdapter(a),a},(d=function(){return window.Turbolinks===c})()&&c.start()}.call(this)}).call(this),"object"==typeof b&&b.exports?b.exports=c:"function"==typeof define&&define.amd&&define(c)}).call(this)},{}]},{},[1]);